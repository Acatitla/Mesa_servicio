<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Mesa de Servicio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="header">
    <img src="./img/heart.jpeg" class="logo-left" alt="Logo Corazón">
    Plataforma de Mesa de Servicio
    <img src="./img/gam.jpeg" class="logo-right" alt="Logo GAM">
  </div>
    <h1>Mesa de Servicio</h1>

    <form id="formulario" action="/reportes" method="POST" enctype="multipart/form-data">
        <label>Tipo de servicio:</label>
        <select name="tipo" required>
            <option value="">Selecciona</option>
            <option value="Luminarias">Luminarias</option>
            <option value="Baches">Baches</option>
            <option value="Banquetas">Banquetas</option>
            <option value="Fugas">Fugas</option>
        </select>

        <label>Calle:</label>
        <input type="text" name="calle" required>

        <label>Número exterior:</label>
        <input type="text" name="no_exterior">

        <label>Referencias:</label>
        <input type="text" name="referencias">

        <label>Colonia:</label>
        <input type="text" name="colonia" required>

        <label>Fecha:</label>
        <input type="date" name="fecha" required>

        <label>Solicitante:</label>
        <input type="text" name="solicitante">

        <label>Teléfono:</label>
        <input type="text" name="telefono">

        <label>Origen:</label>
        <select name="origen" id="origen" onchange="mostrarFolio()">
            <option value="">Selecciona</option>
            <option value="Ciudadano">Ciudadano</option>
            <option value="Oficio">Oficio</option>
            <option value="DMU">DMU</option>
        </select>

        <div id="campoFolio" style="display:none;">
            <label>Folio:</label>
            <input type="text" name="folio">
        </div>

        <label>Foto:</label>
        <input type="file" name="foto" accept="image/*">

        <button type="submit">Agregar Reporte</button>
    </form>

    <h2>Reportes</h2>

    <div>
        <label>Filtrar por fecha:</label>
        <input type="date" id="filtroFecha">

        <label>Filtrar por colonia:</label>
        <input type="text" id="filtroColonia">

        <button onclick="filtrarReportes()">Buscar</button>
        <button onclick="descargarExcel()">Descargar Excel</button>
    </div>

    <table id="tablaReportes" border="1">
        <thead>
            <tr>
                <th>Tipo</th>
                <th>Dirección</th>
                <th>Colonia</th>
                <th>Fecha</th>
                <th>Origen</th>
                <th>Folio</th>
                <th>Foto</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <!-- Aquí se insertarán los reportes -->
        </tbody>
    </table>

    <script src="script.js"></script>
</body>
</html>
